!function(e){function s(s,a,o){if(o.mailgunRequest&&(o.mailgunRequest.abort(),o.mailgunRequest=null),s){if(a&&a.in_progress&&a.in_progress(a.e),o.mailgunLastSuccessReturn&&s==o.mailgunLastSuccessReturn.address)return void(a&&a.success&&a.success(o.mailgunLastSuccessReturn,a.e));var r=!1;if(s.length>512?r="Email address exceeds maximum allowable length of 512.":1!==s.split("@").length-1&&(r="Email address must contain only one @."),r)return void(a&&a.error?a.error(r,a.e):console&&console.log(r));a&&void 0==a.api_key&&console&&console.log("Please pass in api_key to mailgun_validator.");var n=setTimeout(function(){r="Error occurred, unable to validate address.",success||(o.mailgunRequest&&(o.mailgunRequest.abort(),o.mailgunRequest=null),a&&a.error?a.error(r,a.e):console&&console.log(r))},3e4);o.mailgunRequest=e.ajax({type:"GET",url:"https://api.mailgun.net/v3/address/validate?callback=?",data:{address:s,api_key:a.api_key},dataType:"jsonp",crossDomain:!0,success:function(e,s){clearTimeout(n),o.mailgunLastSuccessReturn=e,a&&a.success&&a.success(e,a.e)},error:function(e,s,o){clearTimeout(n),r="Error occurred, unable to validate address.",a&&a.error?a.error(r,a.e):console&&console.log(r)}})}}e.fn.mailgun_validator=function(a){return this.each(function(){var o,r=e(this);r.focusout(function(o){o.timeStamp=Date.now();var n=r.val();n=e.trim(n),r.val(n),a.e=o,s(n,a,r)}),r.keyup(function(){clearTimeout(o),r.val&&(o=setTimeout(function(){r.trigger("focusout")},1e3))})})}}(jQuery);